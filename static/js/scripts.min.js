function initJsValidation(){$("form").each(function(){if(!$(this).attr("data-validation-initialized"))if($(this).attr("data-js-validation")){var t={},e=$(this).attr("data-error-wrapper-selector"),a=$(this).attr("data-error-wrapper-class"),i=$(this).attr("data-error-class-on-element");$("input[data-error-messages], textarea[data-error-messages], checkbox[data-error-messages], select[data-error-messages]",this).each(function(){t[$(this).attr("name")]=JSON.parse($(this).attr("data-error-messages"))});var n={};$("*",this).filter(":input").each(function(){var t=0;if($(this).attr("id")){var e=$(this).attr("depends");if(void 0!==e){e=JSON.parse(e);var a=[];Array.isArray(e.key)||(e.key=[e.key]);for(t in e.key){var i=e.key[t],s=$('*[name="'+i+'"]'),d="radio"==s.attr("type")?'input[name="'+i+'"]:checked':"#"+i;a.push(d)}var r=$(this).attr("id");if(n[r]={required:{depends:function(){for(t in a)if($(a[t]).val()==e.value)return!0;return!1}}},e.hasOwnProperty("additionalValidators"))for(t in e.additionalValidators)n[r][t]=e.additionalValidators[t]}}}),$(this).validate({errorClass:$(this).attr("data-error-class"),errorElement:$(this).attr("data-error-element"),errorPlacement:function(t,e){$(".error-placement-wrapper[data-element-id="+e.attr("id")+"]").html(t)},highlight:function(t){e&&a&&$(t).closest(e).addClass(a),i&&$(t).addClass(i)},unhighlight:function(t){e&&a&&$(t).closest(e).removeClass(a),$(".error-placement-wrapper[data-element-id="+t.id+"]").empty(),i&&$(t).removeClass(i)},messages:t,rules:n,submitHandler:function(t){$(t).attr("data-form-submitted")&&!$(this).attr("data-allow-multiple-submissions")||($(t).attr("data-form-submitted","1"),$(t).hasClass("ajax")?$(t).myAjax($(t).attr("data-to-inject")):t.submit())}}),$(this).attr("data-validation-initialized","1")}else $(this).hasClass("ajax")||$(this).attr("data-allow-multiple-submissions")||$(this).submit(function(){return!$(this).attr("data-form-submitted")&&($(this).attr("data-form-submitted","1"),this.submit(),!0)})})}function initUploadWidgets(){$("body").on("change",".upload-widget input[type=hidden][name^='edit_']",function(){1==$(this).val()?($(this).nextAll(".part-edit:first").hide(),$(this).nextAll(".part-input:first").show()):($(this).nextAll(".part-input:first").hide(),$(this).nextAll(".part-edit:first").show())}),$("body").on("click",".upload-widget .edit-upload",function(){var t=$("input[type=hidden][name^='edit_']",$(this).closest(".upload-part"));t.val(1),t.change()}),$("body").on("click",".upload-widget .add-upload",function(){var t=$(this).closest(".upload-widget"),e=$(".part-optional:hidden:first",t);if(e.length>0){var a=$("input[type=hidden][name^='edit_']",e);a.val(1),a.change();var i=$("input[type=hidden][name^='remove_']",e);i.val(0),i.change(),e.show(),$("input[type=file]",e).click()}t.updateUploadAddRemove()}),$("body").on("click",".upload-widget .remove-upload",function(){var t=$(this).closest(".upload-widget"),e=$(".part-optional:visible:last",t);if(e.length>0){e.hide();var a=$("input[type=hidden][name^='edit_']",e);a.val(0),a.change();var i=$("input[type=hidden][name^='remove_']",e);i.val(1),i.change(),$("input[type=file]",e).val("")}t.updateUploadAddRemove()}),updateUploadWidgets()}function updateUploadWidgets(){$(".upload-widget input[type=hidden][name^='edit_']").each(function(){$(this).change()}),$(".upload-widget").each(function(){$(this).updateUploadAddRemove()})}$(document).ready(function(t){t(".btn-update").each(function(){t(this).on("click",function(){var e=t("#update");if(e.length>0){e.hasClass("active")||(e.fadeIn("fast"),e.addClass("active"));var a=t(this).closest("tr"),i=a.find("td");i.each(function(){var a=t(this).data("name"),i=e.find("#"+a);i.length>0&&i.val(t(this).text().trim())})}})}),t(".btn-cancel").each(function(){t(this).on("click",function(){var e=t(this).closest("form");e.find(".form-control").val(""),t(this).closest(".hidden").fadeOut("fast").removeClass("active")})}),initJsValidation(),t("form[data-populate]").each(function(){t(this).values()})}),$.fn.submitForm=function(t){if("object"==typeof t)for(var e in t)$("input[name='"+e+"']",this).length>0?$("input[name='"+e+"']",this).val(t[e]):t.hasOwnProperty(e)&&$("<input>").attr({type:"hidden",id:e,name:e,value:t[e]}).appendTo(this);$(this).submit()},$.fn.values=function(t,e){var a=$(this).find(":input").get();if("undefined"!=typeof t)"object"!=typeof t&&(t=JSON.parse(t));else{var i=$(this).attr("data-populate");"undefined"!=typeof i&&(t=JSON.parse(i),"object"!=typeof t&&(t=JSON.parse(t)))}return"undefined"==typeof e&&(e=$(this).attr("data-populate-prefix")),"undefined"==typeof t?(t={},$.each(a,function(){var e="checkbox"==this.type&&this.name.indexOf("[]")>-1;this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type))&&(e?(void 0===t[this.name]&&(t[this.name]=[]),t[this.name].push($(this).val())):t[this.name]=$(this).val())}),t):($.each(a,function(){var a=this.name,i="checkbox"==this.type&&a.indexOf("[]")>-1;i&&(a=a.replace("[]","")),"string"==typeof e&&(a=a.replace(e,""),a=a.charAt(0).toLowerCase()+a.slice(1)),this.name&&t[a]&&(i?$(this).attr("checked",$.inArray($(this).val(),t[a])>=0):"checkbox"==this.type||"radio"==this.type?$(this).attr("checked",t[a]==$(this).val()):$(this).val(t[a]))}),$(this))},function(t){t.deparam=function(e,a){var i={},n={true:!0,false:!1,null:null};return t.each(e.replace(/\+/g," ").split("&"),function(e,s){var d,r=s.split("="),o=decodeURIComponent(r[0]),l=i,h=0,p=o.split("]["),c=p.length-1;if(/\[/.test(p[0])&&/\]$/.test(p[c])?(p[c]=p[c].replace(/\]$/,""),p=p.shift().split("[").concat(p),c=p.length-1):c=0,2===r.length)if(d=decodeURIComponent(r[1]),a&&(d=d&&!isNaN(d)?+d:"undefined"===d?void 0:void 0!==n[d]?n[d]:d),c)for(;h<=c;h++)o=""===p[h]?l.length:p[h],l=l[o]=h<c?l[o]||(p[h+1]&&isNaN(p[h+1])?{}:[]):d;else t.isArray(i[o])?i[o].push(d):void 0!==i[o]?i[o]=[i[o],d]:i[o]=d;else o&&(i[o]=a?void 0:"")}),i}}(jQuery),$.fn.updateUploadAddRemove=function(){$(".part-optional:hidden",this).length?$(".add-upload",this).show():$(".add-upload",this).hide(),$(".part-optional:visible",this).length?$(".remove-upload",this).show():$(".remove-upload",this).hide()},$(document).ready(function(){$(".datatable").each(function(){$(this).dataTable({columnDefs:[{orderable:!1,targets:$(this).data("disabled").split(",").map(function(t){return parseInt(t,10)})}]})})});
//# sourceMappingURL=scripts.min.js.map
